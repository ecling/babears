//
// Magento
//
// NOTICE OF LICENSE
//
// This source file is subject to the Academic Free License (AFL 3.0)
// that is bundled with this package in the file LICENSE_AFL.txt.
// It is also available through the world-wide-web at this URL:
// http://opensource.org/licenses/afl-3.0.php
// If you did not receive a copy of the license and are unable to
// obtain it through the world-wide-web, please send an email
// to license@magento.com so we can send you a copy immediately.
//
// DISCLAIMER
//
// Do not edit or add to this file if you wish to upgrade Magento to newer
// versions in the future. If you wish to customize Magento for your
// needs please refer to http://www.magento.com for more information.
//
// @category    design
// @package     rwd_default
// @copyright   Copyright (c) 2006-2014 X.commerce, Inc. (http://www.magento.com)
// @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
//
/* ============================================ *
 * Review - Customer
 * ============================================ */
@import "../includes";

#customer-reviews {
  width: 66%;
  float: none;

  .review-heading {
    border-bottom: 1px solid $c-module-border-light;
    padding: 0 0 9px;
    margin-bottom: 22px;

    &:after {
      @include clearfix;
    }

    h2 {
      float: left;
      display: block;
      @extend h2;
      font-size: $f-size-xxl;
      margin-bottom: 10px;
      margin-top: 16px;
    }

    .pager {
      clear: none;
      float: right;

      .count-container {
        .limiter {
          margin-bottom: 0;

          label {
            text-transform: uppercase;
          }

          @extend %custom-select;

          .dropdown {
            width: 98px;
            float: left;

            .selected {
              padding: 18px 20px 17px;
            }
          }
        }
      }

      .amount {
        display: none;
      }
    }
  }

  .no-rating,
  .addthis_toolbox,
  .review-button {
    display: none;
  }

  .validation-advice {
    text-transform: none;
    font-size: 13px;
  }

  .form-add {
    h2 {
      @extend h2;
      font-size: $f-size-xxl;
      border-bottom: 1px solid $c-module-border-light;
      padding: 0 0 19px;
      margin-bottom: 26px;
    }
  }

  h3 {
    font-family: $f-stack-special;
    font-size: $f-size;
    font-weight: normal;
    margin: 0;
    text-transform: uppercase;

    span {
      color: $accent-color-1;
      text-transform: none;
    }
  }

  .fieldset {
    padding-top: 20px;

    h4 {
      font-family: $f-stack-special;
      font-size: $f-size;
      font-weight: normal;
      padding-bottom: 15px;
      text-transform: uppercase;

      em {
        display: none;
      }
    }

    .form-list {
      font-family: $f-stack-special;
      font-size: $f-size-xs;
      font-weight: normal;
      margin: $gap 0;
      text-transform: uppercase;

      .inline-label {
        label {
        }

        .input-box {
        }

        &:after {
          @include clearfix;
        }
      }

      li {
        margin-bottom: 15px;
      }

      label {
        color: $c-dark;
        margin-bottom: 10px;
        font-weight: normal;
      }

      textarea {
        min-width: 100%;
        -webkit-appearance: none;
      }

      input {
        border: 1px solid $c-module-border;
        border-radius: 0;

        &[type="text"] {
          width: 100%;
        }
      }
    }
  }

  .buttons-set {
    border: none;
    margin: 0;

    .button {
      float: left;
      margin: 0;
    }
  }

  dl {
    font-family: $f-stack-special;
    font-weight: normal;
    margin-bottom: $gap;

    dt {
      margin: $gap 0;
      text-transform: uppercase;
      font-weight: normal;
    }

    dd {
      font-size: $f-size;
      margin: $gap 0 30px;
      border-bottom: solid 1px $c-fieldset-border;
      padding-bottom: 30px;

      &:last-child {
        border-bottom: none;
        padding: 0;
      }

      .ratings-table {
        font-family: $f-stack-special;
        width: 100%;
        border: solid 0px;

        tr {
          margin-right: 15px;
        }

        .review-label {
          width: 300px;
          max-width: 70%;
        }
      }

      table {
        margin: 15px 0;
      }

      .review-meta {
        font-family: $f-stack-special;
        font-size: 12px;
        font-weight: normal;
      }
    }
  }
}

.product-collateral {
  #customer-reviews {
    width: auto;
    .no-rating,
    .review-button {
      display: inline-block;
    }
  }
}

.no-rating a {
  &::before {
    @include custom-icon($font-family-icon, '\e183');
    padding-right: 5px;
  }
}

.review-summary-table {

  margin: 0 0 30px;

  td, th {
    padding: 7px 20px;
  }

  thead {
    background: transparent;

    th {
      background: transparent;
      border: none;
      padding: 7px 7px 8px 8px;
    }
  }

  tbody {
    th {
      background: $c-page-background;
      text-transform: none;
      text-align: right;
    }
    td {
      border: none;
      text-align: center;
      padding: 0;

      label {
        width: 100%;
        display: block;
        padding: 11px 0;
      }

      @extend %custom-radio;

      input[type="radio"] + .label {
        padding: 0 0 0 20px;
        display: inline-block;
        margin: 0 auto;
      }
    }
  }

  .rating-box {
    .rating-number {
      display: none;

      &:after {
        @include custom-icon($font-family-icon, '\e02a');
        font-size: 16px;
        position: relative;
        margin-left: 5px;
        color: $accent-color-1;
      }
    }
  }

}

/* ============================================ *
 * Ratings - Global
 * ============================================ */

.ratings {

  .rating-box.stars {
    margin: 0 auto;
    width: 62px;
    height: 22px;
    background-image: none;
    text-indent: 0;
    position: relative;

    i {
      font-size: 11px;
      float: left;
      margin-right: 2px;
      display: inline-block;
      font-style: normal;
      color: #c9c9c9;
      &::before {
        @include fa-icon;
        content: $fa-var-star;

      }
    }

    .rating {
      white-space: nowrap;
      position: absolute;
      overflow: hidden;
      top: 0;
      left: 0;
      text-align: left;
      background-image: none;
      text-indent: 0;
      height: 22px;

      i {
        color: $accent-color-1;
      }

      .mask {
        width: 150px;
      }
    }
  }
}

.ratings-table {
  font-family: $f-stack-special;
  text-transform: uppercase;
  margin-bottom: 15px;

  th, td {
    padding: 15px 20px;
    border-bottom: solid 1px $c-table-border;
  }

  th {
    border-right: solid 1px $c-table-border;
    text-align: right;
    color: $c-dark;
  }

  tr:last-child {
    th, td {
      border-bottom: none;
    }
  }

  .rating-box {
    @extend .icon-sprite-for-modules;
    background-position: 0 -615px;
    background-repeat: repeat-x;
    height: 13px;
    overflow: hidden;
    text-indent: -9999px;
    width: 65px;

    .rating {
      @extend .icon-sprite-for-modules;
      background-position: 0 -600px;
      background-repeat: repeat-x;
      float: left;
      height: 13px;
      text-indent: -9999px;
    }

    &.stars {
      margin: 0;
    }
  }
}

// ---------------------------------------------

@include bp(max-width, $bp-large) {

  #customer-reviews {
    width: 100%;
  }
}

@include bp(max-width, $bp-medium) {
  body.review-product-list {
    .product-view {
      .product-shop {
        .price-info {
          padding-left: 0;
        }

        .extra-info {
          padding: 0;
          min-width: 84%;

          .ratings-table {
            margin: $gap 0;
            width: 100%;

            tr {
              margin-right: 15px;
            }
          }
        }
      }
    }
  }

  .review-summary-table {

    thead {
      th {
        padding-left: 0px;
        padding-right: 0px;
      }
    }

    tbody {
      th {
        padding-left: 0px;
        padding-right: 0px;
      }

      td {
        width: 20%;
        padding: 0px;
      }
    }

    .rating-box.stars {
      text-indent: 0px;
      text-align: center;
      background: none;
      height: $f-size * 1.4;
      width: auto;

      .rating {
        display: none;
      }
      .rating-number {
        display: inline-block;
      }
    }
  }
}

// ---------------------------------------------

@include bp(max-width, 535px) {
  body.review-product-list {
    .product-view {
      .product-shop {
        .extra-info {
          min-width: 0;

          .ratings-table {
            tr {
              float: none;
              margin-right: 0;
            }
          }
        }
      }
    }
  }
}

// ---------------------------------------------

@include bp(max-width, 520px) {
  #customer-reviews {
    .fieldset {
      width: 100%;

      .form-list {
        width: 100%;

        .inline-label {
          label,
          .input-box {
            float: none;
          }
        }
      }
    }

    .buttons-set {
      width: 100%;
    }
  }
}

// ---------------------------------------------

@include bp(max-width, 450px) {
  #customer-reviews dl dd .ratings-table tr {
    float: none;
  }
}

/* ============================================ *
 * Review View Page
 * ============================================ */
.review-product-view {
  .product-review {
    .product-details {
      h2 {
        border-bottom: none;
      }
    }

    .product-img-box {
      width: auto;
      max-width: 50%;

      > a {
        width: 100%;
      }

      .product-image {
        width: 100%;
      }
    }
  }
}

@include bp('max-width', $bp-medium) {
  .review-product-view {
    .product-review {
      .product-img-box {
        max-width: 100%;
      }
    }
  }
}
